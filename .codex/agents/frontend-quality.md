# 프론트엔드 코드 품질 규칙

---

agent_spec: v1  
doc: frontend-quality  
scope: repo  
precedence: 115  
language: ko

---

프론트엔드 코드(React/TypeScript) 편집/생성 시, 가독성·예측 가능성·응집도·결합도 네 가지 원칙을 기반으로 합니다.

---

## 1. 가독성 – 맥락을 작게 유지

- 함께 실행되지 않는 분기(역할/모드/상태)는 컴포넌트/함수로 분리하고 작은 디스패처로 연결.
- 로그인 확인/리다이렉트 등 횡단 관심사는 `AuthGuard` 등 래퍼/HOC로 숨기고 페이지는 역할에 집중.
- 여러 상태/쿼리/API를 섞는 거대 훅(`usePageState`) 금지. 책임별 작은 훅으로 나눔.
- 복잡한 조건은 플래그 변수나 헬퍼 함수로 풀고, 깊은 삼항 대신 단순 if 체인 사용.
- 매직 넘버는 명명된 상수로 추출(`LIKE_ANIMATION_DELAY_MS` 등).

## 2. 예측 가능성 – 일관된 이름/반환

- 라이브러리 이름을 재사용한 래퍼 금지(예: http 래핑 시 `httpService` 등 구분). 동작을 드러내는 메서드명 사용.
- React Query 훅은 항상 전체 쿼리 객체를 반환.
- 검증 함수는 통일된 반환 타입 사용(`{ ok: true } | { ok: false; reason: string }` 등).
- 숨은 부작용 금지: 함수 이름/시그니처에 없는 로깅·추적·외부 상태 변경을 내부에 넣지 않음.

## 3. 응집도 – 함께 변경되는 것들을 가까이

- 타입별보다 도메인별 폴더 구성. 도메인 간 공유되는 코드만 상위 공유 폴더로 올림.
- 깊은 도메인 간 import는 스멜로 보고 공유 위치 재조정 또는 새로운 공유 도메인 검토.
- 폼 전략: 필드 단위 검증(복잡/재사용 필드) vs 폼 단위 스키마(단일 비즈니스 행위, 필드 간 의존) 중 상황에 맞게 선택.

## 4. 결합도 – 영향 최소화

- 훅 책임을 작게 유지, 거대 `usePageState` 지양.
- DRY 남용 금지: 동작 동일·분기 가능성 낮고 추상화가 변경/테스트를 쉽게 할 때만 추출. 분기 가능성 크면 로컬 중복을 선호.
- Props Drilling 완화 순서: (1) 중간 추상화 제거 및 책임별 컴포넌트 분리 → (2) Composition(children) 활용 → (3) 꼭 필요할 때만 도메인 전용 Context. 전역 상태는 최후 수단.

## 5. 트레이드오프

- 우선순위: 1) 가독성 > 2) 예측 가능성 > 3) 응집도/결합도 균형. 리팩토링 시 어떤 원칙을 최적화했는지 주석/커밋 메시지로 설명.
